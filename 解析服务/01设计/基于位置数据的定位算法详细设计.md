3C parser doc - 基于位置数据的定位算法
=================
  
版本修订
-----------------------------------

+ 2019/11/18  author:xuyong  add  

设计思路
-----------------------------------

机车数据定位不准或者缺乏lkj数据，只能通过location位置数据定位

1. 加载配置信息（车辆+线路），读取位置数据（Location:gis+定位）

2. 当LKJ算法无效时，当前车辆配置了位置定位算法，则进入Location算法

    1. 传入参数：线路+GPS，指定了线路则过滤线路定位，未制定则全量计算

    2. 过滤1KM（参数）内的定位数据

    3. 计算2点距离，最近的定位点即为定位结果

3. 更新结果结果

配置变更
-----------------------------------

```xml
    3C_Parser_loc1	location.MaxQueryRange	5000	最大搜索范围（米）	3C_Parser
    3C_Parser_loc2	location.MaxValidDiscance	1000	2点计算有效距离	3C_Parser
    3C_Parser_loc3	location.LocomotiveSettings	[{"locomotive":"SS4B0135","lines":["SHX$00200"]},{"locomotive":"SS4B0136"}]	车辆线路配置，如果不清楚线路配置则是全量扫描，配置了线路采用精准查询匹配	3C_Parser
```

业务流程
-----------------------------------

/

类设计
-----------------------------------

/

接口调用
-----------------------------------

TODO: 调用计算代码

```c#
    // 如果LKJ计算无效，进度位置定位算法
    if (result.ConfirmedFlag == PosInfoConstants.CONFIRM_NO_DATA || result.ConfirmedFlag == PosInfoConstants.CONFIRM_NO_TREND_WITHOUT_LOG || result.ConfirmedFlag == PosInfoConstants.CONFIRM_NO_TREND_WITH_LOG)
    {
        // 根据位置直接定位，依赖位置定位Location数据
        var lines = SinoRail.DPC.PositionMath.LocationConvertor.GetLines(posInfo.LocomotiveCode);
        if (lines != null) //无配置车辆不执行当前代码
        {
            var location = SinoRail.DPC.PositionMath.LocationConvertor.GetLocation(lines, posInfo.GisLon, posInfo.GisLat);
            if (location != null)
            {
                result.ConfirmedFlag = PosInfoConstants.CONFIRM_SURE;
                result.LineCode = location.LineCode;
                result.LineName = location.LineName;
                result.KmMark = long.Parse(location.KmMark);
                result.PositionCode = location.PositionCode;
                result.PositionName = location.PositionName;
                result.Direction = location.Direction;
                result.PowerSectionCode = location.PowerSectionCode;
                result.PowerSectionName = location.PowerSectionName;
                result.BureauCode = location.BureauCode;
                result.BureauName = location.BureauName;
            }
        }
    }
```
